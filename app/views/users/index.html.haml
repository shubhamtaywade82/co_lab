-# = render "users/search_form"

= turbo_frame_tag("search-form") do
  %div{"data-controller" => "search"}
    = form_with url: users_url, method: "get", data: { "turbo-frame": "search-results", "search-target": "form", action: "input->search#submit" } do                               |
      .flex.justify-center
        %div{class: "w-4/5"}
          = text_field_tag("query", "", placeholder: "Search users", type: "search", id: "search_query", "data-search-target": "input", class: "w-full px-3 py-2 border border-gray-400 rounded-lg")
    = turbo_frame_tag("search-results") do
      .flex.flex-column.flex-row-md.flex-row-lg.flex-row-xl.justify-center.overscroll-contain{"data-search-target" => "results"}
        .my-2.overflow-x-auto.sm:-mx-6.lg:-mx-8
          .py-2.align-middle.inline-block.max-w-full.sm:px-6.lg:px-8
            %header.px-5.py-4.border-b.border-gray-100
              %h1.py-2.font-semibold.text-gray-800 Listing Users
            .shadow.overflow-hidden.border-b.border-gray-200.sm:rounded-lg
              %table
                %thead.bg-gray-50
                  %tr.focus:outline-none.h-16.border.border-gray-100.rounded{tabindex: "0"}
                    %th.tracking-wider{:scope => "col"} Name
                    %th.tracking-wider{:scope => "col"} Email
                    %th{:scope => "col", :colspan => '3' } Action
                %tbody.bg-white.divide-y.divide-gray-200.users_tbody
                - @users.each do |user|
                  = render "users/search_result", user: user, query: @query
= paginate @users